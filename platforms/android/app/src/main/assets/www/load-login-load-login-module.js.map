{"version":3,"sources":["webpack:///./src/app/load-login/load-login.module.ts","webpack:///./src/app/load-login/load-login.page.html","webpack:///./src/app/load-login/load-login.page.scss","webpack:///./src/app/load-login/load-login.page.ts"],"names":[],"mappings":"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","file":"load-login-load-login-module.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { IonicModule } from '@ionic/angular';\n\nimport { LoadLoginPage } from './load-login.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: LoadLoginPage\n  }\n];\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    IonicModule,\n    RouterModule.forChild(routes)\n  ],\n  declarations: [LoadLoginPage]\n})\nexport class LoadLoginPageModule {}\n","module.exports = \"\\n\\n<ion-content padding>\\n<ion-spinner></ion-spinner>\\n</ion-content>\\n\"","module.exports = \"ion-spinner {\\n  position: absolute;\\n  top: 50%;\\n  left: 50%;\\n  -webkit-transform: translate(-50%, -50%);\\n          transform: translate(-50%, -50%); }\\n\\nion-content {\\n  position: relative; }\\n\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvbG9hZC1sb2dpbi9DOlxcVXNlcnNcXEdhYnJpZWxcXERlc2t0b3BcXHByb2pldG9zXFx0b3ppXFx0b3ppX21vYmlsZS9zcmNcXGFwcFxcbG9hZC1sb2dpblxcbG9hZC1sb2dpbi5wYWdlLnNjc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7RUFDSSxrQkFBa0I7RUFDbEIsUUFBUTtFQUNSLFNBQVM7RUFDVCx3Q0FBZ0M7VUFBaEMsZ0NBQWdDLEVBQUE7O0FBR3BDO0VBQ0ksa0JBQWtCLEVBQUEiLCJmaWxlIjoic3JjL2FwcC9sb2FkLWxvZ2luL2xvYWQtbG9naW4ucGFnZS5zY3NzIiwic291cmNlc0NvbnRlbnQiOlsiaW9uLXNwaW5uZXJ7XG4gICAgcG9zaXRpb246IGFic29sdXRlO1xuICAgIHRvcDogNTAlO1xuICAgIGxlZnQ6IDUwJTtcbiAgICB0cmFuc2Zvcm06IHRyYW5zbGF0ZSgtNTAlLCAtNTAlKTtcbn1cblxuaW9uLWNvbnRlbnR7XG4gICAgcG9zaXRpb246IHJlbGF0aXZlO1xufSJdfQ== */\"","import { Component, OnInit } from '@angular/core';\nimport { LoadingController, AlertController } from '@ionic/angular';\nimport { Network } from '@ionic-native/network/ngx';\nimport { Router } from '@angular/router';\nimport { NomeInstrutorService } from '../nome-instrutor.service';\nimport { Globalization } from '@ionic-native/globalization/ngx';\nimport { HttpClient, HttpHeaders } from '@angular/common/http';\nimport { Storage } from \"@ionic/storage\";\n\nexport class Customer {\n  user: string;\n  pass: string;\n}\n\n@Component({\n  selector: 'app-load-login',\n  templateUrl: './load-login.page.html',\n  styleUrls: ['./load-login.page.scss'],\n})\nexport class LoadLoginPage implements OnInit {\n\n  public pessoa = new Customer();\n\n  status: number;\n\n  token: string;\n\n  testeUrl: string;\n\n  \n\n  constructor(\n    private load: LoadingController,\n    private storage: Storage,\n    private network: Network,\n    private httpClient: HttpClient,\n    private router: Router,\n    public instrutor: NomeInstrutorService,\n    private alertController: AlertController,\n    private globalization: Globalization,\n  ) {}\n\n  ngOnInit() {\n  }\n\n  checkIdioma(){\n    this.storage.get(\"idioma\").then(res => {\n        \n    if(res == \"\" || res == null)\n  {\n    this.globalization.getPreferredLanguage().then(res => {\n  if(res.value.includes(\"pt\"))\n  {\n  this.storage.set(\"idioma\",\"ptbr\");\n\n  }\n  else if(res.value.includes(\"en\"))\n  {\n  this.storage.set(\"idioma\",\"en\");\n\n  }\n  \n    });\n  }\n  });\n  }\n\nionViewWillEnter(){\n  \n  this.pessoa.pass = \"\";\n  this.pessoa.user = \"\";\n\n\n  this.status = 0;\n\n  if (this.instrutor.getUrl() == null) {\n      this.instrutor.setUrl(\"https://www.g13bjj.com.br/ct/mobile\");\n    // this.instrutor.setUrl(\"https://192.168.15.34/mobile\");\n  }\n\n  this.storage.get(\"login\").then(val => {\n  \n      this.storage.get(\"login\").then(val => {\n        this.pessoa.user = val;\n      });\n      this.storage.get(\"senha\").then(val => {\n        this.pessoa.pass = val;\n        this.httpClient\n        .post(\n          this.instrutor.getUrl() + \"/login.php\",\n          JSON.stringify(this.pessoa),\n          {\n            responseType: \"text\",\n            observe: \"response\",\n            withCredentials: true,\n            headers: new HttpHeaders({ \"x-version\": \"1.1.1\" })\n          }\n        )\n\n        .subscribe(\n          response => {\n           \n            this.status = response.status;\n            this.instrutor.setRole(response.headers.get(\"x-role\"));\n            if (response.headers.get(\"x-role\") == \"INSTRUTOR\") {\n              this.router.navigate([\"/aula\"]);\n            } else {\n              this.router.navigate([\"/calendario\"]);\n            }\n            this.instrutor.setNome(this.pessoa.user);\n\n            this.instrutor.setToken(response.headers.get(\"x-auth\"));\n          },\n          error => {\n            \n    \n            // alert(\"Login ou senha errados, por favor , tente novamente\");\n     \n            this.status = error.status;\n          \n          }\n        );\n      });\n    });\n\n}\n\n}\n"],"sourceRoot":""}